(()=>{/*!
 * flip 1.1.0 - Copyright 2026 Terrill Dent, http://terrill.ca
 * Released under MIT license, http://terrill.ca/flipjs/license
 */var flip=function(){var flip2={},listeners=[],ua=navigator.userAgent,webkit=/webkit/i.test(navigator.appVersion),firefox=/firefox/i.test(ua),ie=/trident/i.test(ua),safari=/safari/i.test(ua),opera=window.opera,vendor=webkit?"webkit":firefox?"":ie?"ms":opera?"O":"",transitionKey="transition",transformKey=(vendor?vendor+"T":"t")+"ransform",transformProp=(safari?"-webkit-":"")+"transform",transitionEndEventName=safari?"webkitTransitionEnd":"transitionend",perspectiveUnits=firefox?"px":"",nextFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return setTimeout(callback,1)}}(),cancelFrame=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),onResize,getAngle,updatePosition,commonEndTransition,onTransitionEndStay,onTransitionEndNext,onTransitionEndPrev,pagesContainer,flipPagesContainer,frontPage,shadow,transitionForward,previousAngle,windowWidth,draggableControl,dragListener,pageStack=[],prevPage,topPage,nextPage,leftBase,rightBase,leftFlip,rightFlip;return flip2.simulateTouch=!window.hasOwnProperty("ontouchstart"),getAngle=function(){var deltaX=draggableControl.startXY.x-draggableControl.curXY.x,angle;if(transitionForward)if(angle=180*deltaX/Math.min(windowWidth/2,draggableControl.startXY.x*0.9),!nextPage)angle=Math.min(60,Math.pow(angle,0.8));else angle=Math.max(0,Math.min(180,angle));else if(angle=180*deltaX/Math.min(windowWidth/2,(windowWidth-draggableControl.startXY.x)*0.9),!prevPage)angle=Math.max(120,180-Math.pow(Math.abs(angle),0.8));else angle=180-Math.abs(Math.min(0,Math.max(-180,angle)));return angle},onResize=function(){windowWidth=window.innerWidth},commonEndTransition=function(){flip2.transitioning=!1,flip2.autotransition=!1,shadow.style.display="none",flipPagesContainer.style.display="none",setTimeout(function(){flip2.fire("globalTransitionEnd")},0)},onTransitionEndStay=function(){if(commonEndTransition(),leftFlip)leftFlip.removeEventListener(transitionEndEventName,onTransitionEndStay,!1);if(rightFlip)rightFlip.removeEventListener(transitionEndEventName,onTransitionEndStay,!1);if(transitionForward){if(nextPage)nextPage.html.style.display="none";flip2.removeClass(topPage.html,"left")}else{if(prevPage)prevPage.html.style.display="none";flip2.removeClass(topPage.html,"right")}setTimeout(function(){topPage.onStay()},0)},onTransitionEndNext=function(){if(nextPage)flip2.removeClass(nextPage.html,"right");if(commonEndTransition(),topPage.html.style.display="none",pageStack.push(topPage),leftFlip)leftFlip.removeEventListener(transitionEndEventName,onTransitionEndNext,!1);if(prevPage)flip2.remove(prevPage.html),flip2.remove(prevPage.flip);if(prevPage=topPage,topPage=nextPage,nextPage=null,topPage.html.style.display!=="block")topPage.html.style.display="block";topPage.onShowComplete(pageStack.length)},onTransitionEndPrev=function(){if(prevPage)flip2.removeClass(prevPage.html,"left");if(commonEndTransition(),topPage.html.style.display="none",pageStack.pop(),rightFlip)rightFlip.removeEventListener(transitionEndEventName,onTransitionEndPrev,!1);if(nextPage)flip2.remove(nextPage.html),flip2.remove(nextPage.flip);if(nextPage=topPage,topPage=prevPage,prevPage=null,pageStack.length>0)prevPage=pageStack[pageStack.length-1]||null,prevPage.html.style.display="none",pagesContainer.appendChild(prevPage.html),prevPage.flip.style.display="none",flipPagesContainer.appendChild(prevPage.flip);topPage.onShowComplete(pageStack.length)},dragListener={breach:function(deltaX){if(flip2.transitioning=!0,previousAngle=null,deltaX>0)transitionForward=!0,leftBase=topPage.html,rightFlip=topPage.flip,rightBase=nextPage?nextPage.html:null,leftFlip=nextPage?nextPage.flip:null;else transitionForward=!1,rightBase=topPage.html,leftFlip=topPage.flip,leftBase=prevPage?prevPage.html:null,rightFlip=prevPage?prevPage.flip:null;if(!flip2.autotransition){if(flip2.addClass(flipPagesContainer,"dragging"),leftFlip)leftFlip.style[transitionKey]=transformProp+" 0s",leftFlip.removeEventListener(transitionEndEventName,onTransitionEndStay,!1),leftFlip.removeEventListener(transitionEndEventName,onTransitionEndNext,!1);if(rightFlip)rightFlip.style[transitionKey]=transformProp+" 0s",rightFlip.removeEventListener(transitionEndEventName,onTransitionEndStay,!1),rightFlip.removeEventListener(transitionEndEventName,onTransitionEndPrev,!1)}if(topPage.onObscure(),transitionForward&&prevPage)prevPage.html.style.display="none";else if(nextPage)nextPage.html.style.display="none";if(rightBase)flip2.addClass(rightBase,"right"),flip2.removeClass(rightBase,"left"),rightBase.style.display="block";if(leftBase)flip2.addClass(leftBase,"left"),flip2.removeClass(leftBase,"right"),leftBase.style.display="block";if(rightFlip)flip2.addClass(rightFlip,"right"),flip2.removeClass(rightFlip,"left"),rightFlip.style.display="block";if(leftFlip)flip2.addClass(leftFlip,"left"),flip2.removeClass(leftFlip,"right"),leftFlip.style.display="block";shadow.style.display="block",shadow.style.opacity=0,flipPagesContainer.style.display="block"},reset:function(){if(!leftFlip&&!rightFlip)return;var angle=getAngle(),dropLeftHandler,dropRightHandler;if(previousAngle=null,flip2.removeClass(flipPagesContainer,"dragging"),transitionForward)dropLeftHandler=onTransitionEndNext,dropRightHandler=onTransitionEndStay;else dropLeftHandler=onTransitionEndStay,dropRightHandler=onTransitionEndPrev;if(angle===0)dropRightHandler();else if(angle>=180)dropLeftHandler();else if(angle<90&&rightFlip)rightFlip.style[transformKey]="translateX( 0 ) perspective( 3000"+perspectiveUnits+") rotateY( -0deg )",rightFlip.style[transitionKey]=transformProp+" "+500*angle/90+"ms ease-in",rightFlip.addEventListener(transitionEndEventName,dropRightHandler,!1);else if(leftFlip)leftFlip.style[transformKey]="translateX( 0 ) perspective( 3000"+perspectiveUnits+") rotateY( -360deg )",leftFlip.style[transitionKey]=transformProp+" "+500*(180-angle)/90+"ms ease-in",leftFlip.addEventListener(transitionEndEventName,dropLeftHandler,!1)},move:function(){if(!flip2.waiting)nextFrame(updatePosition),flip2.waiting=!0}},updatePosition=function(){if(!leftFlip&&!rightFlip)return;var angle=getAngle();if(angle<90){if((!previousAngle||previousAngle>=90)&&leftFlip)leftFlip.style[transformKey]="translateX( 4000px )";rightFlip.style[transformKey]="translateX( 0 ) perspective( 3000"+perspectiveUnits+") rotateY( -"+angle+"deg )"}else if(angle>=90){if((!previousAngle||previousAngle<90)&&rightFlip)rightFlip.style[transformKey]="translateX( 4000px )";leftFlip.style[transformKey]="translateX( 0 ) perspective( 3000"+perspectiveUnits+") rotateY( -"+(180+angle)+"deg )"}previousAngle=angle,flip2.waiting=!1},flip2.remove=function(element){if(element.parentNode)element.parentNode.removeChild(element)},flip2.forEach=function(arrayCollection,callback){var num=arrayCollection.length,i;for(i=0;i<num;i++)callback(arrayCollection[i])},flip2.hasClass=function(element,className){return element.className.match(new RegExp("(\\s|^)"+className+"(\\s|$)"))},flip2.addClass=function(element,className){if(!flip2.hasClass(element,className))element.className+=" "+className},flip2.removeClass=function(element,className){if(flip2.hasClass(element,className)){var reg=new RegExp("(\\s|^)"+className+"(\\s|$)");element.className=element.className.replace(reg," ")}},flip2.addListener=function(listener){listeners.push(listener)},flip2.removeListener=function(listener){var index=listeners.indexOf(listener);if(index>=0)listeners.splice(listeners.indexOf(listener),1)},flip2.fire=function(eventName,message){flip2.forEach(listeners,function(listener){if(listener&&listener[eventName])listener[eventName](message)})},flip2.close=function(){if(topPage!==frontPage){if(pageStack.length>1){if(prevPage)flip2.remove(prevPage.flip),flip2.remove(prevPage.html);pageStack.splice(0,pageStack.length-1),prevPage=frontPage,prevPage.html.style.display="",pagesContainer.insertBefore(prevPage.html,topPage.html),flipPagesContainer.insertBefore(prevPage.flip,topPage.flip),topPage.refreshFlip()}flip2.pop()}},flip2.pop=function(){var secondHalfFlip;if(topPage!==frontPage)setTimeout(function(){var baseTransform="translateX(0px) perspective(3000"+perspectiveUnits+") ";flip2.autotransition=!0,dragListener.breach(-20,0),rightFlip.style[transformKey]=baseTransform+"rotateY( -90deg )",leftFlip.style[transformKey]=baseTransform+"rotateY( -360deg )",rightFlip.style[transitionKey]=transformProp+" 300ms ease-in",leftFlip.style[transitionKey]=transformProp+" 300ms ease-in",setTimeout(function(){secondHalfFlip=function(){leftFlip.removeEventListener(transitionEndEventName,secondHalfFlip,!1),rightFlip.style[transformKey]=baseTransform+"rotateY( 0deg )",setTimeout(onTransitionEndPrev,400)},leftFlip.addEventListener(transitionEndEventName,secondHalfFlip,!1),leftFlip.style[transformKey]=baseTransform+"rotateY( -270deg )"},10)},0)},flip2.push=function(newPageControl){var secondHalfFlip;if(!frontPage)topPage=newPageControl,frontPage=topPage,pagesContainer.appendChild(topPage.html),flipPagesContainer.appendChild(topPage.flip),topPage.onShowComplete(pageStack.length);else flip2.autotransition=!0,flip2.prime(newPageControl),setTimeout(function(){var baseTransform="translateX( 0 ) perspective(3000"+perspectiveUnits+") ";dragListener.breach(20,0),rightFlip.style[transformKey]=baseTransform+"rotateY( 0deg )",leftFlip.style[transformKey]=baseTransform+"rotateY( 90deg )",rightFlip.style[transitionKey]=transformProp+" 300ms ease-in",leftFlip.style[transitionKey]=transformProp+" 300ms ease-in",setTimeout(function(){secondHalfFlip=function(){rightFlip.removeEventListener(transitionEndEventName,secondHalfFlip,!1),leftFlip.style[transformKey]=baseTransform+"rotateY( 0deg )",setTimeout(onTransitionEndNext,400)},rightFlip.addEventListener(transitionEndEventName,secondHalfFlip,!1),rightFlip.style[transformKey]=baseTransform+"rotateY( -90deg )"},10)},0)},flip2.getStackHeight=function(){return pageStack.length},flip2.prime=function(nextPageControl){if(nextPage&&nextPage!==nextPageControl)flip2.remove(nextPage.html),flip2.remove(nextPage.flip);nextPage=nextPageControl,nextPage.html.style.display="none",pagesContainer.appendChild(nextPage.html),nextPage.flip.style.display="none",flipPagesContainer.appendChild(nextPage.flip)},flip2.createElem=function(tagName,attributes){var element=document.createElement(tagName),key;for(key in attributes)if(attributes.hasOwnProperty(key))element[key]=attributes[key];return element},flip2.init=function(bookElement,firstPage){var fragment=document.createDocumentFragment();if(pagesContainer=flip2.createElem("div",{className:"flip-base-pages"}),flipPagesContainer=flip2.createElem("div",{className:"flip-pages"}),shadow=flip2.createElem("div",{className:"flip-shadow"}),fragment.appendChild(pagesContainer),fragment.appendChild(shadow),fragment.appendChild(flipPagesContainer),bookElement.appendChild(fragment),firstPage)flip2.push(firstPage);draggableControl=flip2.draggable.create(pagesContainer,dragListener,10),window.addEventListener("resize",onResize,!1),onResize()},flip2}(),flip=window.flip;flip.basic=function(bookElement){if(bookElement=typeof bookElement==="string"?document.getElementById(bookElement):bookElement,bookElement.childNodes.length!==1&&console.err){console.err("Expects a single child that contains all the page elements");return}var pages=[],pageElem,bookPagesParent,onShowComplete;bookPagesParent=bookElement.firstElementChild,onShowComplete=function(pageIndex){if(pages[pageIndex+1])flip.prime(pages[pageIndex+1])},bookPagesParent.parentNode.removeChild(bookPagesParent);while(bookPagesParent.firstElementChild)pageElem=bookPagesParent.firstElementChild,pageElem.parentNode.removeChild(pageElem),pages.push(flip.page.create(pageElem,{onShowComplete}));flip.init(bookElement,pages[0])};var flip=window.flip;flip.draggable=function(){var draggablePrototype={getPagePosition:function(e){return e=e.touches?e.touches[0]:e,{x:e.pageX,y:e.pageY}},handleEvent:function(e){var that=this;switch(e.type){case"touchstart":case"mousedown":that.handleTouchStart(e);break;case"touchmove":case"mousemove":that.handleTouchMove(e);break;case"touchend":case"mouseup":that.handleTouchEnd(e);break;case"mouseout":if(e.relatedTarget&&e.relatedTarget.tagName==="HTML")that.handleTouchEnd(e);break}},reset:function(){var that=this;if(document.body.removeEventListener("touchmove",that,!1),document.body.removeEventListener("touchend",that,!1),flip.simulateTouch)document.body.removeEventListener("mousemove",that,!1),document.body.removeEventListener("mouseup",that,!1),window.removeEventListener("mouseout",that,!1);if(!that.curXY)return;if(that.listener.reset)that.listener.reset();that.curXY=null},handleTouchStart:function(e){var that=this;if(e.preventDefault(),that.curXY&&e.touches&&e.touches.length>1){that.reset();return}if((e.touches&&e.touches.length)>1||e.which&&e.which===3||e.button&&e.button===2)return;if(that.outsideBuffer=!1,that.curXY=null,document.body.addEventListener("touchmove",that,!1),document.body.addEventListener("touchend",that,!1),flip.simulateTouch)document.body.addEventListener("mousemove",that,!1),document.body.addEventListener("mouseup",that,!1),window.addEventListener("mouseout",that,!1);if(that.startXY=that.getPagePosition(e),that.curXY=that.startXY,that.listener.start)that.listener.start()},handleTouchMove:function(e){var that=this,deltaY,deltaX;if(e.preventDefault(),e.touches&&e.touches.length>1){that.reset();return}if(that.curXY=that.getPagePosition(e),deltaX=that.startXY.x-that.curXY.x,deltaY=that.startXY.y-that.curXY.y,that.buffer){if(!that.outsideBuffer&&Math.abs(deltaX)>=that.buffer){if(that.listener.breach)that.listener.breach(deltaX,deltaY);that.outsideBuffer=!0}}if(!that.buffer||that.outsideBuffer){if(that.listener.move)that.listener.move()}},handleTouchEnd:function(e){var that=this;e.preventDefault(),that.reset()}};return{create:function(target,listener,buffer){var draggable=Object.create(draggablePrototype);if(draggable.target=target,draggable.listener=listener,draggable.buffer=buffer,target.addEventListener("touchstart",draggable,!1),flip.simulateTouch)target.addEventListener("mousedown",draggable,!1);return draggable}}}();var flip=window.flip;flip.page=function(){var pagePrototype={refreshFlip:function(){var that=this,oldFlip=that.flip,oldFlipParent;if(flip.transitioning){if(!that.dirty)that.dirty=!0,flip.addListener(that);return}if(that.dirty)that.dirty=!1,flip.removeListener(that);if(that.flip=that.html.cloneNode(!0),oldFlip&&oldFlip.parentNode){if(oldFlipParent=oldFlip.parentNode,oldFlipParent)oldFlipParent.removeChild(oldFlip),oldFlipParent.appendChild(that.flip)}},globalTransitionEnd:function(){this.refreshFlip()},onObscure:function(){var that=this;if(that.listener.onObscure)that.listener.onObscure()},onStay:function(){var that=this;if(that.listener.onStay)that.listener.onStay()},onShowComplete:function(index){var that=this;if(that.listener.onShowComplete)that.listener.onShowComplete(index);that.onStay()}};return{create:function(pageContentElem,listener){var draggable=Object.create(pagePrototype);return flip.addClass(pageContentElem,"flip-page"),draggable.listener=listener,draggable.html=flip.createElem("div",{className:"flip-page-wrapper"}),draggable.html.appendChild(pageContentElem),draggable.flip=draggable.html.cloneNode(!0),draggable}}}();})();

